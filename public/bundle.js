(()=>{"use strict";const t=732,n=412,o="container",e=document.querySelector.bind(document),a=(document.querySelectorAll.bind(document),(t,n,o)=>null==t?void 0:t.addEventListener(n,o)),i=(t,n)=>{t&&(t.innerHTML=n)},l=(t,n)=>{if(t)for(const o in n)t.style[o]=n[o]},r=t=>t.getBoundingClientRect(),c=()=>{const{innerWidth:o,innerHeight:a}=window,i=Math.min(o/n,a/t),r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);l(e("body"),{zoom:`${o<n?Math.round(o/n*100):100}%`,transform:i>=1||r?`scale(${r?1:i})`:"none"})},s=({id:t,left:n,top:o,rotation:e,scale:a})=>`<div\n  id="${t}"\n  style="position:absolute;transform:rotate(${e}deg);width:18px;left:${n}px;top:${o}px"\n>\n  <svg viewBox="0 0 85 470" style="transform:scaleY(${a});">\n    <polygon\n      fill="#E6E9ED"\n      points="85.32601928710938,127.98799896240234 51.201019287109375,149.33100128173828 33.516021728515625,149.33100128173828 0,127.98799896240234 0,21.334999084472656 85.32601928710938,21.334999084472656 "\n    />\n    <path\n      fill="#FFCE54"\n      d="m50.20101,3.117c-4.155,-4.156 -10.921,-4.156 -15.077,0c-2.093,2.094 -3.124,4.812 -3.124,7.547l0,0l0,394.283l21.326,0l0,-394.252c0.016,-2.734 -1.031,-5.484 -3.125,-7.578z"\n    />\n    <path\n      fill="#ED5564"\n      d="m55.37301,390.666c-4.484,0 -8.812,1.031 -12.718,2.984c-3.891,-1.953 -8.219,-2.984 -12.702,-2.984c-15.703,0 -28.469,12.766 -28.469,28.469c0,25.717 32.141,45.217 35.812,47.357l5.375,3.125l5.375,-3.125c3.655,-2.141 35.796,-21.641 35.796,-47.357c0,-15.688 -12.766,-28.469 -28.469,-28.469z"\n    />\n  </svg>\n</div>`,d=({id:t,fill:n,left:o,top:e,rotation:a,scale:i})=>`<div\n  id="${t}"\n  class="bow"\n  style="transform:rotate(${a}deg);left:${o}px;top:${e}px"\n>\n  <svg viewBox="0 0 190 491" style="transform:scaleX(${i});">\n    <rect x="12" fill="black" width="21" height="500"/>\n    <path\n      fill="${n}"\n      d="m170.75487,205.321c0,0 20.5,-29.858 19.406,-52.482c-4,-83.169 -107.668,-88.497 -159.557,-152.839l-30.515,0c-4.156,64.467 138.823,93.419 141.964,146.448c1.438,24.421 -13.984,53.857 -13.984,53.857l0,90.028c0,0 15.421,29.437 13.984,53.857c-3.141,53.029 -146.12,81.982 -141.964,146.449l30.515,0c51.889,-64.342 155.557,-69.67 159.557,-152.84c1.094,-22.623 -19.406,-52.482 -19.406,-52.482l0,-79.996z"\n    />\n  </svg>\n</div>`,p=(t="",n=0,o=0)=>`<div class="target" id=${t} style="left:${n}px;top:${o}px"></div>`,f=(t=0)=>`<div class="targets" style="width:100px;height:100px">\n  ${p("t-1",10,10)}\n  ${p("t-1",50,10)}\n  ${p("t-1",10,50)}\n  ${p("t-1",50,50)}\n  </div>`;let h=!1;const u=[{animate:!1,angle:0,direction:-1,point:{x:0,y:0}},{animate:!1,angle:0,direction:1,point:{x:0,y:0}}],v=[{bow:{fill:"#de8f6f",left:176,top:542,rotation:270,scale:1},arrow:{left:195,top:572,rotation:0,scale:-1}},{bow:{fill:"#3c7cab",left:176,top:40,rotation:270,scale:-1},arrow:{left:195,top:88,rotation:0,scale:1}}],m=(t=0)=>{let n=t%360;return n<0&&(n+=360),Math.round(Math.abs(n))},$=t=>{const{left:n,top:o}=r(e("#control"));let a=0,i=0;t instanceof MouseEvent?(a=t.clientX,i=t.clientY):t instanceof TouchEvent&&(a=t.touches[0].clientX,i=t.touches[0].clientY);return{x:Math.round(a-n),y:Math.round(i-o)}},g=t=>{const n=e("#bow-1"),{left:o,top:a}=((t,n)=>{const o=r(n),e=r(t);return{top:Math.round(o.top-e.top),left:Math.round(o.left-e.left)}})(e("#control"),n),{width:i}=r(n),c={x:Math.round(o+i/2),y:a},s=(d=c,p=t,180*Math.atan2(d.y-p.y,d.x-p.x)/Math.PI);var d,p;const f=m(s);l(n,{transform:`rotate(${f}deg)`});const h=m(f-270);u[0].angle=h,l(e("#arrow-1"),{transform:`rotate(${h}deg)`})},w=(t=1)=>{const{left:n,top:o}=v[t-1].arrow;u[t-1].point={x:n,y:o},u[t-1].animate=!0,u[t-1].interval=setInterval((()=>((t=1)=>{const n=e(`#arrow-${t}`),{angle:o,point:a}=u[t-1],i=(o-90)*(Math.PI/180),r=a.x+10*Math.cos(i),c=a.y+10*Math.sin(i);if(u[t-1].point={x:r,y:c},l(n,{left:`${r}px`,top:`${c}px`}),c<-100||r<-50||c>832||r>462){console.log("TERMINA"),u[t-1].animate=!1,clearInterval(u[t-1].interval);const{left:o,top:e}=v[t-1].arrow;l(n,{left:`${o}px`,top:`${e}px`})}})(t)),1)},x=t=>{h||u[0].animate||(g($(t)),h=!0,console.log("handleMouseDown"))},y=()=>{h&&!u[0].animate&&(w(),console.log("handleMouseUp"),h=!1)},M=t=>{h&&!u[0].animate&&g($(t))},b={Game:()=>{const t=`<div class="game wh jc">\n    ${v.map(((t,n)=>`${d(Object.assign({id:`bow-${n+1}`},t.bow))}${s(Object.assign({id:`arrow-${n+1}`},t.arrow))}\n      `)).join("")}\n    <div id="r-target">${f(0)}</div>\n    <div id="control"></div>\n  </div>`;i(e(`#${o}`),t),[["mousedown",x],["mouseup",y],["mousemove",M],["touchstart",x],["touchend",y],["touchmove",M],["mouseleave",y]].forEach((t=>a(e("#control"),t[0],t[1])))}},E=(t="Game",n={})=>{b[t](n)};i(e("#root"),`<div\n    id="${o}"\n    style="overflow: hidden;width:412px;height:732px"\n  ></div>`),a(document,"contextmenu",(t=>t.preventDefault())),a(window,"resize",c),c(),E("Game")})();